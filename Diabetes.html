<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diabetes Care Products</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="product-grid">
        <div class="product-card">
            <figure>
                <img src="Diabetes/1.PNG.png" alt="Diabetes">
                <figcaption>Protinex Diabetes Care Protein Powder with Vitamins</figcaption>
            </figure>
            <div class="product-details">
                <span class="product-price">₹350</span>
                <button class="add-to-cart-btn" data-product-id="1">Add to Cart</button>
            </div>
        </div>

        <div class="product-card">
            <figure>
                <img src="Diabetes/2.PNG.png" alt="Diabetes">
                <figcaption>Accu-Chek Active Blood Glucometer Kit</figcaption>
            </figure>
            <div class="product-details">
                <span class="product-price">₹500</span>
                <button class="add-to-cart-btn" data-product-id="2">Add to Cart</button>
            </div>
        </div>

        <div class="product-card">
            <figure>
                <img src="Diabetes/3.PNG.png" alt="Diabetes">
                <figcaption>Accu-Chek Instant Test Strip</figcaption>
            </figure>
            <div class="product-details">
                <span class="product-price">₹280</span>
                <button class="add-to-cart-btn" data-product-id="3">Add to Cart</button>
            </div>
        </div>

        <div class="product-card">
            <figure>
                <img src="Diabetes/4.PNG.png" alt="Diabetes">
                <figcaption>Sugar Free Natura Low Calorie Sucralose Sweetener</figcaption>
            </figure>
            <div class="product-details">
                <span class="product-price">₹95</span>
                <button class="add-to-cart-btn" data-product-id="4">Add to Cart</button>
            </div>
        </div>

        <div class="product-card">
            <figure>
                <img src="Diabetes/5.PNG.png" alt="Diabetes">
                <figcaption>Dr. Reckeweg Uranium Nitricum Dilution 30 CH</figcaption>
            </figure>
            <div class="product-details">
                <span class="product-price">₹400</span>
                <button class="add-to-cart-btn" data-product-id="5">Add to Cart</button>
            </div>
        </div>

        <div class="product-card">
            <figure>
                <img src="Diabetes/6.PNG.png" alt="Diabetes">
                <figcaption>AccuSure Gold Blood Glucose Test Strip</figcaption>
            </figure>
            <div class="product-details">
                <span class="product-price">₹350</span>
                <button class="add-to-cart-btn" data-product-id="6">Add to Cart</button>
            </div>
        </div>

        <div class="product-card">
            <figure>
                <img src="Diabetes/7.PNG.png" alt="Diabetes">
                <figcaption>ADEL Urea Pura. Dilution 30</figcaption>
            </figure>
            <div class="product-details">
                <span class="product-price">₹320</span>
                <button class="add-to-cart-btn" data-product-id="7">Add to Cart</button>
            </div>
        </div>

        <div class="product-card">
            <figure>
                <img src="Diabetes/8.PNG.png" alt="Diabetes">
                <figcaption>Dr Willmar Schwabe India Uranium Nitricum Dilution 6 CH</figcaption>
            </figure>
            <div class="product-details">
                <span class="product-price">₹275</span>
                <button class="add-to-cart-btn" data-product-id="8">Add to Cart</button>
            </div>
        </div>

        <div class="product-card">
            <figure>
                <img src="Diabetes/9.PNG.png" alt="Diabetes">
                <figcaption>Vringra Dr. Oxyn Aloe Sports Diabetic Comfort Walker Socks</figcaption>
            </figure>
            <div class="product-details">
                <span class="product-price">₹220</span>
                <button class="add-to-cart-btn" data-product-id="9">Add to Cart</button>
            </div>
        </div>

        <div class="product-card">
            <figure>
                <img src="Diabetes/10.PNG.png" alt="Diabetes">
                <figcaption>Control D Comfort Lancet</figcaption>
            </figure>
            <div class="product-details">
                <span class="product-price">₹260</span>
                <button class="add-to-cart-btn" data-product-id="10">Add to Cart</button>
            </div>
        </div>

        <div class="product-card">
            <figure>
                <img src="Diabetes/11.PNG.png" alt="Diabetes">
                <figcaption>Bjain Abroma Augusta Dilution 12C</figcaption>
            </figure>
            <div class="product-details">
                <span class="product-price">₹290</span>
                <button class="add-to-cart-btn" data-product-id="11">Add to Cart</button>
            </div>
        </div>

        <div class="product-card">
            <figure>
                <img src="Diabetes/12.PNG.png" alt="Diabetes">
                <figcaption>Diabetone-PN Capsule</figcaption>
            </figure>
            <div class="product-details">
                <span class="product-price">₹250</span>
                <button class="add-to-cart-btn" data-product-id="12">Add to Cart</button>
            </div>
        </div>
    </div>

    <div id="cart-sidebar" class="cart-sidebar">
        <h2>Shopping Cart</h2>
        <ul id="cart-items"></ul>
        <div class="cart-summary">
            <p>Total: <span id="cart-total">₹0</span></p>
            <button id="checkout-btn">Checkout</button>
            <button id="clear-cart-btn">Clear Cart</button>
        </div>
    </div>

    <script>
        
        document.addEventListener('DOMContentLoaded', function() {
            let cart = JSON.parse(localStorage.getItem('cartItems')) || [];
            let cartTotal = 0;
        
            const cartSidebar = document.getElementById('cart-sidebar');
            const cartItemsList = document.getElementById('cart-items');
            const cartTotalElement = document.getElementById('cart-total');
            const clearCartBtn = document.getElementById('clear-cart-btn');
            const checkoutBtn = document.getElementById('checkout-btn');
            const productGrid = document.querySelector('.product-grid');
        
            const cartToggleBtn = document.createElement('div');
            cartToggleBtn.className = 'cart-toggle';
            cartToggleBtn.innerHTML = `
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="9" cy="21" r="1"></circle>
                    <circle cx="20" cy="21" r="1"></circle>
                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                </svg>
                <span class="cart-counter">0</span>
            `;
            document.body.appendChild(cartToggleBtn);
        
            cartToggleBtn.addEventListener('click', function() {
                cartSidebar.classList.toggle('active');
            });
        
            const addToCartBtns = document.querySelectorAll('.add-to-cart-btn');
            if (addToCartBtns.length > 0) {
                addToCartBtns.forEach(btn => {
                    btn.addEventListener('click', function() {
                        const productCard = this.closest('.product-card');
                        const productId = this.getAttribute('data-product-id');
                        const productName = productCard.querySelector('figcaption').textContent;
                        const productPrice = parseFloat(productCard.querySelector('.product-price').textContent.replace('₹', ''));
                        const productImage = productCard.querySelector('figure img').src;
                        
                        addToCart(productId, productName, productPrice, productImage);
                        showNotification(`Added ${productName} to cart!`);
                    });
                });
            }
        
            if (clearCartBtn) {
                clearCartBtn.addEventListener('click', function() {
                    clearCart();
                });
            }
        
            if (checkoutBtn) {
                checkoutBtn.addEventListener('click', function() {
                    checkout();
                });
            }
        
            if (cartItemsList) {
                cartItemsList.addEventListener('click', function(e) {
                    if (e.target.classList.contains('remove-item')) {
                        const itemId = e.target.closest('li').dataset.productId;
                        removeFromCart(itemId);
                    }
                    
                    if (e.target.classList.contains('quantity-increase')) {
                        const itemId = e.target.closest('li').dataset.productId;
                        updateCartItemQuantity(itemId, 1);
                    }
                    
                    if (e.target.classList.contains('quantity-decrease')) {
                        const itemId = e.target.closest('li').dataset.productId;
                        updateCartItemQuantity(itemId, -1);
                    }
                });
            }
            
            function addToCart(id, name, price, imageUrl) {
                const existingItemIndex = cart.findIndex(item => item.id === id);
                
                if (existingItemIndex !== -1) {
                    cart[existingItemIndex].quantity += 1;
                } else {
                    cart.push({
                        id: id,
                        name: name,
                        price: price,
                        image: imageUrl,
                        quantity: 1
                    });
                }
        
                saveCartToLocalStorage();
                updateCartUI();
                updateCartCounter();
            }
        
            function saveCartToLocalStorage() {
                localStorage.setItem('cartItems', JSON.stringify(cart));
            }
        
            function removeFromCart(id) {
                cart = cart.filter(item => item.id !== id);
                saveCartToLocalStorage();
                updateCartUI();
                updateCartCounter();
                showNotification('Item removed from cart!');
            }
        
            function updateCartItemQuantity(id, change) {
                const itemIndex = cart.findIndex(item => item.id === id);
                
                if (itemIndex !== -1) {
                    cart[itemIndex].quantity += change;
        
                    if (cart[itemIndex].quantity <= 0) {
                        removeFromCart(id);
                    } else {
                        saveCartToLocalStorage();
                        updateCartUI();
                        updateCartCounter();
                    }
                }
            }
        
            function updateCartCounter() {
                const counter = document.querySelector('.cart-counter');
                const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
                
                if (counter) {
                    counter.textContent = totalItems;
                    counter.style.display = totalItems > 0 ? 'flex' : 'none';
                }
            }
        
            function clearCart() {
                cart = [];
                saveCartToLocalStorage();
                updateCartUI();
                updateCartCounter();
                showNotification('Cart cleared!');
            }
        
            function checkout() {
                if (cart.length === 0) {
                    showNotification('Your cart is empty!');
                    return;
                }
        
                showNotification('Order placed successfully!');
        
                setTimeout(() => {
                    clearCart();
                }, 1000);
            }
            
            function showNotification(message) {
                const existingNotification = document.querySelector('.cart-notification');
                if (existingNotification) {
                    existingNotification.remove();
                }
                
                const notification = document.createElement('div');
                notification.classList.add('cart-notification');
                notification.textContent = message;
                
                document.body.appendChild(notification);
        
                setTimeout(() => {
                    notification.remove();
                }, 3000);
            }
            
            function updateCartUI() {
                if (cartItemsList) {
                    cartItemsList.innerHTML = '';
                }
            
                cartTotal = 0;
        
                cart.forEach(item => {
                    const itemTotal = item.price * item.quantity;
                    cartTotal += itemTotal;
                    
                    if (cartItemsList) {
                        const li = document.createElement('li');
                        li.dataset.productId = item.id;
                        
                        li.innerHTML = `
                            <div class="cart-item">
                                <img src="${item.image}" alt="${item.name}" class="cart-item-image">
                                <div class="cart-item-details">
                                    <div class="cart-item-name">${item.name}</div>
                                    <div class="cart-item-price">₹${item.price.toFixed(2)}</div>
                                    <div class="cart-item-quantity">
                                        <button class="quantity-btn quantity-decrease">-</button>
                                        <span>${item.quantity}</span>
                                        <button class="quantity-btn quantity-increase">+</button>
                                    </div>
                                </div>
                            </div>
                            <div class="cart-item-subtotal">
                                Subtotal: ₹${itemTotal.toFixed(2)}
                            </div>
                            <button class="remove-item">Remove</button>
                        `;
                        
                        cartItemsList.appendChild(li);
                    }
                });
        
                if (cartTotalElement) {
                    cartTotalElement.textContent = `₹${cartTotal.toFixed(2)}`;
                }
        
                if (cart.length === 0 && cartItemsList) {
                    const emptyMessage = document.createElement('li');
                    emptyMessage.classList.add('empty-cart-message');
                    emptyMessage.textContent = 'Your cart is empty';
                    cartItemsList.appendChild(emptyMessage);
                    
                    if (cartTotalElement) {
                        cartTotalElement.textContent = '₹0.00';
                    }
                }
            }
        
            updateCartUI();
            updateCartCounter();
        });
    </script>
</body>
</html>